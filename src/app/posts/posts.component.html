<app-header-front></app-header-front>
<br>
<br>

<br>
<br>
<br>
<div class="col-12">
    <button pButton label="Add Post" icon="pi pi-plus" class="p-button-success" (click)="displayModal = true"></button>

    <div class="card p-p-4 p-mb-3">
        <h2 class="p-text-center">Posts</h2>
        <div *ngFor="let post of posts" class="post-card p-shadow-2 p-p-3 p-mb-3 p-d-flex p-jc-between p-ai-center">
            <div class="post-info" (click)="getPost(post.id)">
                <h3>Author : {{ post.author.firstName }} {{ post.author.lastName }}</h3>
                <p>Content : {{ post.content }}</p>
                <p class="p-text-secondary">{{ post.createdAt | date:'medium' }}</p>
            </div>
            <div class="post-meta p-d-flex p-ai-center">

            </div>
            <hr>
        </div>

    </div>
</div>

<p-dialog header="Add Post" [(visible)]="displayModal" [style]="{width: '400px', 'max-width': '100%'}" [closable]="true" class="p-fluid">
    <form [formGroup]="postForm" (ngSubmit)="addPost()">
        <div class="p-field p-grid">
            <label for="content" class="p-col-12 p-md-2">Content</label>
            <div class="p-col-12 p-md-10">
                <textarea id="content" pInputTextarea formControlName="content" rows="3"></textarea>
            </div>
        </div>
        <p-footer>
            <div class="p-d-flex p-jc-end">
                <button type="button" pButton label="Cancel" icon="pi pi-times" class="p-button-text p-mr-2" (click)="displayModal = false"></button>
                <button type="submit" pButton label="Post" icon="pi pi-check"></button>
            </div>
        </p-footer>
    </form>
</p-dialog>
